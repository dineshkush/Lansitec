<!doctype html>
<html lang="en" id="html">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lansitec|LoRa</title>
    <link rel="shortcut icon" href="./img/favicon.ico" />
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./element.css">
    <script src="./jquery.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./vue.js"></script>
    <script>Vue.config.productionTip = false</script>
    <script src="./element.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script>
        function getParam(paramName) {
            paramValue = "", isFound = !1;
            if (this.location.search.indexOf("?") == 0 && this.location.search.indexOf("=") > 1) {
                arrSource = unescape(this.location.search).substring(1, this.location.search.length).split("&"), i = 0;
                while (i < arrSource.length && !isFound) arrSource[i].indexOf("=") > 0 && arrSource[i].split("=")[0].toLowerCase() == paramName.toLowerCase() && (paramValue = arrSource[i].split("=")[1], isFound = !0), i++
            }
            return paramValue == "" && (paramValue = null), paramValue
        }
        var urlName = this.getParam("name")

    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>

<script src="https://kit.fontawesome.com/c519d427f7.js"
crossorigin="anonymous"></script>
</head>

<body>

    <div class="login_form">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4">
                    <div class="right_sidebar d-flex align-items-center">
                        <div id="app" class="form_box">
                            <div class="bg-login">
                                <div class="middle-box loginbox loginscreen bg-white loginPd">
                                    <div class="login-title">
                                        <h1>Payload Decoder</h1>
                                        <!-- <hr style="width: 1.04rem; height: 5px; background: #0079C3; border: 0; margin-left: .5rem; margin-top: .2rem; margin-bottom: .3rem;"> -->
                                    </div>
                                    <el-form inline-message :model="loginForm" :rules="loginRules" ref="loginForm">
                                        <!-- <p>Your user name</p> -->
                                        <el-form-item prop="username">
                                            <div class="form_group">
                                                <input autocomplete="off" v-model="loginForm.username" prefix-icon="../assets/q.png"
                                                    placeholder="Please Enter User Name" />
                                                    <i class="fa-solid fa-user"></i>
                                            </div>
                                        </el-form-item>
                                        <!-- <p>Password</p> -->
                                        <el-form-item prop="password">
                                            <div class="form_group">
                                                <input :type="passwordType" @keyup.enter="login" v-model="loginForm.password"
                                                    prefix-icon="../assets/q.png" placeholder="Please Enter Password" autocomplete="off"
                                                    auto-complete="on" />
                                                    <i class="fa-solid fa-unlock-keyhole"></i>
                    
                                                <span class="show-pwd" :style="eyeStatus" @click="showPwd">
                                                    <i class="icon iconfont icon-eye"></i>
                                                </span>
                                            </div>
                                        </el-form-item>
                                        <div class="form_btn">
                                            <el-form-item label>
                                                <el-button class="fr" @click.native.prevent="login">Login </el-button>
                                            </el-form-item>
                                        </div>
                                        <el-form-item>
                                            <span @click="for_pas" class="fl"
                                                style="background-color:#fff;color:#000;border-bottom:1px solid #000;display: none;">忘记密码?</span>
                                        </el-form-item>
                                    </el-form>
                                    <p>Do not have an account? <a href="javascript::" style="text-decoration:none;color: #4D80E4;">Contact Us</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-8 img_col" style="background-image: url(./img/login-sidebar-img.png);">
                    <div class="left_sidebar">
                        <img src="./img/LOGO@2x.png" alt="" class="img-fluid">
                        <!-- <h1>Lansitec</h1> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div style="width: 100%;height: 100%;">
        <div class="backgroundImg" style="
        background-image: url(./img/backgroundImg.png);
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        width: 50%;
        height: 100%;
        position: relative;
        float: left;">
            <img src="./img/logoLogin.png"
                style="width: 3.4rem;height: .44rem;position: absolute;left: .83rem;top: 1.22rem;" alt="">
            <h1 id="h1" style="position: absolute;top: 2.19rem;left: .84rem;
            font-size: 0.24rem;
            font-family: Roboto-Regular, Roboto;
            font-weight: 400;
            color: #FFFFFF;
            line-height: 0.36rem;">
                Lansitec
            </h1>
        </div>



        <div id="app">
            <div class="bg-login">
                <div class="middle-box loginbox loginscreen bg-white loginPd" style="background-color:#fff;padding-bottom: 10px; width:4.5rem;border-radius: 28px;position: absolute;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%,-50%);
            -moz-transform: translate(-50%,-50%);
            transform: translate(-50%,-50%); 
            
            background: #FFFFFF;
            box-shadow: 0rem 0.04rem 0.2rem 0rem #D8D8D8;
            border-radius: 0.1rem;">
                    <div class="login-title text-center">
                        <h1>Payload Decoder</h1>
                        <hr style="width: 1.04rem;
          height: 5px;
          background: #0079C3;
          border: 0;
          margin-left: .5rem; 
          margin-top: .2rem;
          margin-bottom: .3rem;">
                    </div>
                    <el-form inline-message :model="loginForm" :rules="loginRules" ref="loginForm"
                        style="margin-left: .5rem;">
                        <p style="
                        font-size: 18px;
                        font-family: 'Roboto-Regular', 'Roboto';
                        font-weight: 400;
                        color: #333333;
                        line-height: .21rem;
                        margin-bottom: .14rem;">Your user name</p>
                        <el-form-item prop="username">
                            <input style=" border:0px;  width: 3.4rem;
                    height: .55rem;
                    margin-bottom: .29rem;
                    
                border: 1px solid #D8D8D8;
                background: #F6F9FD;border-radius: .1rem;padding-left: .2rem; 
    
                font-size: 18px;
                font-family: SourceSansPro-Regular, SourceSansPro;
                font-weight: 400;
                color: #333333;
                line-height: .23rem;
                " autocomplete="off" v-model="loginForm.username" prefix-icon="../assets/q.png"
                                placeholder="Please enter user name" />
                        </el-form-item>
                        <p style="
                        font-size: 18px;
                        font-family: Roboto-Regular, Roboto;
                        font-weight: 400;
                        color: #333333;
                        line-height: 21px; 
                        margin-bottom: 14px;">Password</p>
                        <el-form-item prop="password">
                            <input style=" border:0px; width: 3.4rem;
                    height: .55rem;
                    margin-bottom: .29rem;
                    
                border: 1px solid #D8D8D8;
                background: #F6F9FD;border-radius: .1rem; padding-left: .2rem;
    
                font-size: 18px;
                font-family: SourceSansPro-Regular, SourceSansPro;
                font-weight: 400;
                color: #333333;
                line-height: .23rem;" :type="passwordType" @keyup.enter="login" v-model="loginForm.password"
                                prefix-icon="../assets/q.png" placeholder="Please enter password" autocomplete="off"
                                auto-complete="on" />

                            <span class="show-pwd" :style="eyeStatus" @click="showPwd">
                                <i class="icon iconfont icon-eye"></i>
                            </span>
                        </el-form-item>
                        <el-form-item label>
                            <el-button class="fr" @click.native.prevent="login" style="
                            background: #0079C3;width: 3.6rem;
                height: .55rem;color: #ffffff;
                font-family: SourceHanSansCN-Medium;
                font-size: 16px;border-radius: 10px;">Log in </el-button>
                        </el-form-item>
                        <el-form-item>
                            <span @click="for_pas" class="fl"
                                style="background-color:#fff;color:#000;border-bottom:1px solid #000;display: none;">忘记密码?</span>
                        </el-form-item>
                    </el-form>
                    <p style="
                    text-align: center;
                    font-size: 16px;
                    font-family: Roboto-Regular, Roboto;
                    font-weight: 400;
                    color: #333333;
                    line-height: 19px;
                    margin-bottom: 35px;">Do not have an account? <a href="javascript::"
                            style="text-decoration:none;color: #4D80E4;">Contact Us</a></p>
                </div>
            </div>
        </div>

    </div> -->







</body>
<script>
    new Vue({
        el: '#app',
        data: function () {
            return {
                company: "",
                userInfo: {
                    username: "",
                    tel: "",
                    mail: "",
                    companyid: "",
                    companystr: "",
                    prioStr: "",
                    number: "",
                    mapid: ""
                },
                het: 0,
                maps: [],

                loginForm: {
                    username: "",
                    password: ""
                },
                loginRules: {
                    username: [
                        {
                            require: true,
                            message: "账号不能为空",
                            trigger: "blur"
                        },
                        {
                            min: 5,
                            max: 20,
                            message: "长度在 5 到 20 个字符",
                            trigger: "blur"
                        }
                    ]
                },
                loading: false,
                passwordType: "password",
                eyeStatus: ""
            }
        },
        methods: {
            showPwd() {
                if (this.passwordType === "password") {
                    this.passwordType = "";
                    this.eyeStatus = "color:#1296db";
                } else {
                    this.passwordType = "password";
                    this.eyeStatus = "";
                }
            },
            login() {
                var that = this;
                axios
                    .post("http://iot.lansitec.com:14211/login", {
                        username: this.loginForm.username.toString(),
                        password: this.loginForm.password.toString()
                    })
                    .then(function (data) {
                        console.log(data)
                        if (data.data.code != 1001) {
                            that.$message({
                                message: data.data.msg
                            });
                        } else {
                            if (urlName == 'DownloadCentre') {
                                if (data.data.data.role == "1") {
                                    that.setSessionStorage('username', that.loginForm.username.toString())
                                    window.location.href = "./configureUser.html"
                                } else if (data.data.data.role == "2") {
                                    that.setSessionStorage('username', that.loginForm.username.toString())
                                    window.location.href = "./DownloadCentre.html"
                                }
                            } else {
                                that.setSessionStorage('username', that.loginForm.username.toString())
                                window.location.href = urlName + ".html"
                            }
                        }
                    })
                    .catch(function (response) { });
            },
            for_pas() {
                this.$message({
                    message: "请联系管理员！"
                })

            },
            setSessionStorage(name, value) {
                sessionStorage.setItem(name, value);
            }
        }
    })


</script>

</html>

<script>
    if (urlName == 'DownloadCentre') {
        document.getElementById('h1').innerHTML = "Download Centre"
        document.getElementById('h1Title').innerHTML = "Download Centre"
    } else if (urlName == 'payload') {
        document.getElementById('h1').innerHTML = "Contact Tracing Badge Payload Decoder"
    } else if (urlName == 'tracker') {
        document.getElementById('h1').innerHTML = "Tracker Payload Decoder"
    } else if (urlName == 'Gateway') {
        document.getElementById('h1').innerHTML = "Gateway Payload Decoder"
    } else if (urlName == 'containerTrackerNB') {
        document.getElementById('h1').innerHTML = "Container Tracker NB Payload Decoder"
    }
    window.onresize = () => {
        let designSize = 1440; // 设计图尺寸
        let html = document.documentElement;
        let wW = html.clientWidth;// 窗口宽度
        let rem = wW * 100 / designSize;
        document.documentElement.style.fontSize = rem + 'px';
    }

    function hhh() {
        let designSize = 1440; // 设计图尺寸
        let html = document.documentElement;
        let wW = html.clientWidth;// 窗口宽度
        let rem = wW * 100 / designSize;
        document.documentElement.style.fontSize = rem + 'px';
        document.getElementById('html').style.display = 'block';
    }

    hhh()
</script>